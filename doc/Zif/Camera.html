<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Zif::Camera
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Zif::Camera";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span>
     &raquo; 
    <span class="title">Camera</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Zif::Camera
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Zif::Camera</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Actionable.html" title="Zif::Actionable (module)">Actionable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/lib/zif/camera.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The Camera is given a set of layer sprites, typically these are the containing_sprites of large render targets. It zooms these sprites to fit the viewable area of the screen.  It can be zoomed in and out using the scroll wheel. It is responsible for directing the layers to reposition based on camera movements.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="DEFAULT_SCREEN_WIDTH-constant" class="">DEFAULT_SCREEN_WIDTH =
          
        </dt>
        <dd><pre class="code"><span class='int'>1280</span></pre></dd>
      
        <dt id="DEFAULT_SCREEN_HEIGHT-constant" class="">DEFAULT_SCREEN_HEIGHT =
          
        </dt>
        <dd><pre class="code"><span class='int'>720</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#cur_h-instance_method" title="#cur_h (instance method)">#<strong>cur_h</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute cur_h.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#cur_w-instance_method" title="#cur_w (instance method)">#<strong>cur_w</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute cur_w.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#follow_duration-instance_method" title="#follow_duration (instance method)">#<strong>follow_duration</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute follow_duration.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#follow_easing-instance_method" title="#follow_easing (instance method)">#<strong>follow_easing</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute follow_easing.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#follow_margins-instance_method" title="#follow_margins (instance method)">#<strong>follow_margins</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute follow_margins.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_camera_movement-instance_method" title="#last_camera_movement (instance method)">#<strong>last_camera_movement</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute last_camera_movement.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_follow-instance_method" title="#last_follow (instance method)">#<strong>last_follow</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute last_follow.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#layer_index-instance_method" title="#layer_index (instance method)">#<strong>layer_index</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute layer_index.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#layers-instance_method" title="#layers (instance method)">#<strong>layers</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute layers.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_h-instance_method" title="#max_h (instance method)">#<strong>max_h</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute max_h.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_w-instance_method" title="#max_w (instance method)">#<strong>max_w</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute max_w.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_x-instance_method" title="#max_x (instance method)">#<strong>max_x</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute max_x.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_y-instance_method" title="#max_y (instance method)">#<strong>max_y</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute max_y.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_zoom_in-instance_method" title="#max_zoom_in (instance method)">#<strong>max_zoom_in</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute max_zoom_in.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_zoom_out-instance_method" title="#max_zoom_out (instance method)">#<strong>max_zoom_out</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute max_zoom_out.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#min_x-instance_method" title="#min_x (instance method)">#<strong>min_x</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute min_x.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#min_y-instance_method" title="#min_y (instance method)">#<strong>min_y</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute min_y.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#native_screen_height-instance_method" title="#native_screen_height (instance method)">#<strong>native_screen_height</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute native_screen_height.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#native_screen_width-instance_method" title="#native_screen_width (instance method)">#<strong>native_screen_width</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute native_screen_width.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#pos_x-instance_method" title="#pos_x (instance method)">#<strong>pos_x</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute pos_x.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#pos_y-instance_method" title="#pos_y (instance method)">#<strong>pos_y</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute pos_y.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#target_name-instance_method" title="#target_name (instance method)">#<strong>target_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute target_name.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#target_x-instance_method" title="#target_x (instance method)">#<strong>target_x</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute target_x.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#target_y-instance_method" title="#target_y (instance method)">#<strong>target_y</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute target_y.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#velocity_x-instance_method" title="#velocity_x (instance method)">#<strong>velocity_x</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute velocity_x.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#velocity_y-instance_method" title="#velocity_y (instance method)">#<strong>velocity_y</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute velocity_y.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#zoom_step-instance_method" title="#zoom_step (instance method)">#<strong>zoom_step</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute zoom_step.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#zoom_steps-instance_method" title="#zoom_steps (instance method)">#<strong>zoom_steps</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute zoom_steps.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Actionable.html" title="Zif::Actionable (module)">Actionable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Actionable.html#actions-instance_method" title="Zif::Actionable#actions (method)">#actions</a></span>, <span class='object_link'><a href="Actionable.html#dirty-instance_method" title="Zif::Actionable#dirty (method)">#dirty</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#center-instance_method" title="#center (instance method)">#<strong>center</strong>(from = pos)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#center_screen-instance_method" title="#center_screen (instance method)">#<strong>center_screen</strong>(around = center)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_layer-instance_method" title="#each_layer (instance method)">#<strong>each_layer</strong>(&amp;_block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#follow_x-instance_method" title="#follow_x (instance method)">#<strong>follow_x</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>To support moving the default zoom point while following something.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#follow_x=-instance_method" title="#follow_x= (instance method)">#<strong>follow_x=</strong>(x)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#follow_y-instance_method" title="#follow_y (instance method)">#<strong>follow_y</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#follow_y=-instance_method" title="#follow_y= (instance method)">#<strong>follow_y=</strong>(y)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#full_view_rect-instance_method" title="#full_view_rect (instance method)">#<strong>full_view_rect</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(target_name, layer_sprites, starting_width = DEFAULT_SCREEN_WIDTH, starting_height = DEFAULT_SCREEN_HEIGHT, initial_x = 4000, initial_y = 2000)  &#x21d2; Camera </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Setup vars, min/max camera position, arbitrary initial x/y Width/height should be an integer multiple of 16:9 ratio!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_view_rect-instance_method" title="#max_view_rect (instance method)">#<strong>max_view_rect</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#min_view_rect-instance_method" title="#min_view_rect (instance method)">#<strong>min_view_rect</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#move-instance_method" title="#move (instance method)">#<strong>move</strong>(x, y)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adjust pos_x and pos_y together, return difference.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#move_rel-instance_method" title="#move_rel (instance method)">#<strong>move_rel</strong>(x = nil, y = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Relative positional change where [1, 1] means add 1 to x/y instead of (1,1) Accepts nil to support behavior of directional_vector.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pos-instance_method" title="#pos (instance method)">#<strong>pos</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scrolled%3F-instance_method" title="#scrolled? (instance method)">#<strong>scrolled?</strong>(_point, direction)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method is used as a hook for the InputService, when given this obj with #register_scrollable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_following-instance_method" title="#start_following (instance method)">#<strong>start_following</strong>(sprite)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#translate_pos-instance_method" title="#translate_pos (instance method)">#<strong>translate_pos</strong>(given)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>From window x/y to map x/y.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zoom_factor-instance_method" title="#zoom_factor (instance method)">#<strong>zoom_factor</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a float, where 1.0 means we are zoomed to the native screen resolution This value is compared against @max_zoom_out and @max_zoom_in when zooming.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zoom_in-instance_method" title="#zoom_in (instance method)">#<strong>zoom_in</strong>(point = (@last_follow || center))  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zoom_out-instance_method" title="#zoom_out (instance method)">#<strong>zoom_out</strong>(point = (@last_follow || center))  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zoom_to-instance_method" title="#zoom_to (instance method)">#<strong>zoom_to</strong>(factor = 1.0, point = (@last_follow || center))  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zoom_unit-instance_method" title="#zoom_unit (instance method)">#<strong>zoom_unit</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A zoom factor of 1.0 corresponds to this resolution.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Actionable.html" title="Zif::Actionable (module)">Actionable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Actionable.html#bounce_forever_around-instance_method" title="Zif::Actionable#bounce_forever_around (method)">#bounce_forever_around</a></span>, <span class='object_link'><a href="Actionable.html#delayed_action-instance_method" title="Zif::Actionable#delayed_action (method)">#delayed_action</a></span>, <span class='object_link'><a href="Actionable.html#fade_in-instance_method" title="Zif::Actionable#fade_in (method)">#fade_in</a></span>, <span class='object_link'><a href="Actionable.html#fade_out-instance_method" title="Zif::Actionable#fade_out (method)">#fade_out</a></span>, <span class='object_link'><a href="Actionable.html#fade_out_and_in_forever-instance_method" title="Zif::Actionable#fade_out_and_in_forever (method)">#fade_out_and_in_forever</a></span>, <span class='object_link'><a href="Actionable.html#new_action-instance_method" title="Zif::Actionable#new_action (method)">#new_action</a></span>, <span class='object_link'><a href="Actionable.html#perform_actions-instance_method" title="Zif::Actionable#perform_actions (method)">#perform_actions</a></span>, <span class='object_link'><a href="Actionable.html#run-instance_method" title="Zif::Actionable#run (method)">#run</a></span>, <span class='object_link'><a href="Actionable.html#running_actions%3F-instance_method" title="Zif::Actionable#running_actions? (method)">#running_actions?</a></span>, <span class='object_link'><a href="Actionable.html#stop_action-instance_method" title="Zif::Actionable#stop_action (method)">#stop_action</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(target_name, layer_sprites, starting_width = DEFAULT_SCREEN_WIDTH, starting_height = DEFAULT_SCREEN_HEIGHT, initial_x = 4000, initial_y = 2000)  &#x21d2; <tt><span class='object_link'><a href="" title="Zif::Camera (class)">Camera</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Setup vars, min/max camera position, arbitrary initial x/y Width/height should be an integer multiple of 16:9 ratio!</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_target_name'>target_name</span><span class='comma'>,</span>
               <span class='id identifier rubyid_layer_sprites'>layer_sprites</span><span class='comma'>,</span>
               <span class='id identifier rubyid_starting_width'>starting_width</span><span class='op'>=</span><span class='const'>DEFAULT_SCREEN_WIDTH</span><span class='comma'>,</span>
               <span class='id identifier rubyid_starting_height'>starting_height</span><span class='op'>=</span><span class='const'>DEFAULT_SCREEN_HEIGHT</span><span class='comma'>,</span>
               <span class='id identifier rubyid_initial_x'>initial_x</span><span class='op'>=</span><span class='int'>4000</span><span class='comma'>,</span>
               <span class='id identifier rubyid_initial_y'>initial_y</span><span class='op'>=</span><span class='int'>2000</span><span class='rparen'>)</span>
  <span class='ivar'>@target_name</span> <span class='op'>=</span> <span class='id identifier rubyid_target_name'>target_name</span>

  <span class='ivar'>@native_screen_width</span>  <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#DEFAULT_SCREEN_WIDTH-constant" title="Zif::Camera::DEFAULT_SCREEN_WIDTH (constant)">DEFAULT_SCREEN_WIDTH</a></span></span>
  <span class='ivar'>@native_screen_height</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#DEFAULT_SCREEN_HEIGHT-constant" title="Zif::Camera::DEFAULT_SCREEN_HEIGHT (constant)">DEFAULT_SCREEN_HEIGHT</a></span></span>

  <span class='comment'># Camera views a game-window-sized chunk of target at zoom level 1.0
</span>  <span class='comment'># These mirror the source_w/h attrs on the sprite layers
</span>  <span class='ivar'>@cur_w</span> <span class='op'>=</span> <span class='id identifier rubyid_starting_width'>starting_width</span>
  <span class='ivar'>@cur_h</span> <span class='op'>=</span> <span class='id identifier rubyid_starting_height'>starting_height</span>
  <span class='ivar'>@max_w</span> <span class='op'>=</span> <span class='id identifier rubyid_layer_sprites'>layer_sprites</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:w</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='ivar'>@max_h</span> <span class='op'>=</span> <span class='id identifier rubyid_layer_sprites'>layer_sprites</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:h</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>

  <span class='ivar'>@max_x</span> <span class='op'>=</span> <span class='ivar'>@max_w</span> <span class='op'>-</span> <span class='ivar'>@cur_w</span>
  <span class='ivar'>@max_y</span> <span class='op'>=</span> <span class='ivar'>@max_h</span> <span class='op'>-</span> <span class='ivar'>@cur_h</span>

  <span class='ivar'>@layers</span> <span class='op'>=</span> <span class='id identifier rubyid_layer_sprites'>layer_sprites</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_layer'>layer</span><span class='op'>|</span>
    <span class='id identifier rubyid_layer'>layer</span><span class='period'>.</span><span class='id identifier rubyid_assign'>assign</span><span class='lparen'>(</span>
      <span class='label'>w:</span> <span class='ivar'>@native_screen_width</span><span class='comma'>,</span>
      <span class='label'>h:</span> <span class='ivar'>@native_screen_height</span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># These values are the allowable extremes for zooming, described as a multiple of the native screen width/height
</span>  <span class='ivar'>@max_zoom_in</span>  <span class='op'>=</span> <span class='float'>0.5</span>
  <span class='ivar'>@max_zoom_out</span> <span class='op'>=</span> <span class='float'>2.0</span>

  <span class='comment'># Each scroll action will increase or decrease zoom factor by this amount:
</span>  <span class='ivar'>@zoom_steps</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='float'>0.5</span><span class='comma'>,</span> <span class='float'>0.8</span><span class='comma'>,</span> <span class='float'>1.0</span><span class='comma'>,</span> <span class='float'>1.28</span><span class='comma'>,</span> <span class='float'>1.6</span><span class='comma'>,</span> <span class='float'>2.0</span><span class='rbracket'>]</span>
  <span class='comment'># Index of above
</span>  <span class='ivar'>@zoom_step</span> <span class='op'>=</span> <span class='int'>2</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_cur_w'>cur_w</span> <span class='op'>=</span> <span class='id identifier rubyid_starting_width'>starting_width</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_cur_h'>cur_h</span> <span class='op'>=</span> <span class='id identifier rubyid_starting_height'>starting_height</span>

  <span class='ivar'>@min_x</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@min_y</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@pos_x</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@pos_y</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='ivar'>@velocity_x</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@velocity_y</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='comment'># Default follow params
</span>  <span class='ivar'>@follow_margins</span>  <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>300</span><span class='comma'>,</span> <span class='int'>600</span><span class='comma'>,</span> <span class='int'>300</span><span class='comma'>,</span> <span class='int'>600</span><span class='rbracket'>]</span> <span class='comment'># These values will be multiplied by the zoom factor
</span>  <span class='ivar'>@follow_duration</span> <span class='op'>=</span> <span class='float'>0.5</span><span class='period'>.</span><span class='id identifier rubyid_seconds'>seconds</span>
  <span class='ivar'>@follow_easing</span>   <span class='op'>=</span> <span class='symbol'>:smooth_stop</span>

  <span class='comment'># Following will not work unless registered with an ActionService
</span>  <span class='gvar'>$game</span><span class='op'>&amp;.</span><span class='id identifier rubyid_services'>services</span><span class='op'>&amp;.</span><span class='id identifier rubyid_named'>named</span><span class='lparen'>(</span><span class='symbol'>:action_service</span><span class='rparen'>)</span><span class='op'>&amp;.</span><span class='id identifier rubyid_register_actionable'>register_actionable</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_move'>move</span><span class='lparen'>(</span><span class='id identifier rubyid_initial_x'>initial_x</span><span class='comma'>,</span> <span class='id identifier rubyid_initial_y'>initial_y</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="cur_h=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="cur_h-instance_method">
  
    #<strong>cur_h</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute cur_h.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cur_h'>cur_h</span>
  <span class='ivar'>@cur_h</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="cur_w=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="cur_w-instance_method">
  
    #<strong>cur_w</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute cur_w.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cur_w'>cur_w</span>
  <span class='ivar'>@cur_w</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="follow_duration=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="follow_duration-instance_method">
  
    #<strong>follow_duration</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute follow_duration.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_follow_duration'>follow_duration</span>
  <span class='ivar'>@follow_duration</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="follow_easing=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="follow_easing-instance_method">
  
    #<strong>follow_easing</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute follow_easing.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_follow_easing'>follow_easing</span>
  <span class='ivar'>@follow_easing</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="follow_margins=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="follow_margins-instance_method">
  
    #<strong>follow_margins</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute follow_margins.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_follow_margins'>follow_margins</span>
  <span class='ivar'>@follow_margins</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="last_camera_movement=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="last_camera_movement-instance_method">
  
    #<strong>last_camera_movement</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute last_camera_movement.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_last_camera_movement'>last_camera_movement</span>
  <span class='ivar'>@last_camera_movement</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="last_follow=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="last_follow-instance_method">
  
    #<strong>last_follow</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute last_follow.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_last_follow'>last_follow</span>
  <span class='ivar'>@last_follow</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="layer_index=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="layer_index-instance_method">
  
    #<strong>layer_index</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute layer_index.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_layer_index'>layer_index</span>
  <span class='ivar'>@layer_index</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="layers=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="layers-instance_method">
  
    #<strong>layers</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute layers.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_layers'>layers</span>
  <span class='ivar'>@layers</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="max_h=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="max_h-instance_method">
  
    #<strong>max_h</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute max_h.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_h'>max_h</span>
  <span class='ivar'>@max_h</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="max_w=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="max_w-instance_method">
  
    #<strong>max_w</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute max_w.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_w'>max_w</span>
  <span class='ivar'>@max_w</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="max_x=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="max_x-instance_method">
  
    #<strong>max_x</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute max_x.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_x'>max_x</span>
  <span class='ivar'>@max_x</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="max_y=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="max_y-instance_method">
  
    #<strong>max_y</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute max_y.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_y'>max_y</span>
  <span class='ivar'>@max_y</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="max_zoom_in=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="max_zoom_in-instance_method">
  
    #<strong>max_zoom_in</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute max_zoom_in.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_zoom_in'>max_zoom_in</span>
  <span class='ivar'>@max_zoom_in</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="max_zoom_out=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="max_zoom_out-instance_method">
  
    #<strong>max_zoom_out</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute max_zoom_out.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_zoom_out'>max_zoom_out</span>
  <span class='ivar'>@max_zoom_out</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="min_x=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="min_x-instance_method">
  
    #<strong>min_x</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute min_x.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_min_x'>min_x</span>
  <span class='ivar'>@min_x</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="min_y=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="min_y-instance_method">
  
    #<strong>min_y</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute min_y.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_min_y'>min_y</span>
  <span class='ivar'>@min_y</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="native_screen_height=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="native_screen_height-instance_method">
  
    #<strong>native_screen_height</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute native_screen_height.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_native_screen_height'>native_screen_height</span>
  <span class='ivar'>@native_screen_height</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="native_screen_width=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="native_screen_width-instance_method">
  
    #<strong>native_screen_width</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute native_screen_width.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_native_screen_width'>native_screen_width</span>
  <span class='ivar'>@native_screen_width</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="pos_x=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="pos_x-instance_method">
  
    #<strong>pos_x</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute pos_x.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pos_x'>pos_x</span>
  <span class='ivar'>@pos_x</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="pos_y=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="pos_y-instance_method">
  
    #<strong>pos_y</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute pos_y.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pos_y'>pos_y</span>
  <span class='ivar'>@pos_y</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="target_name=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="target_name-instance_method">
  
    #<strong>target_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute target_name.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_target_name'>target_name</span>
  <span class='ivar'>@target_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="target_x=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="target_x-instance_method">
  
    #<strong>target_x</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute target_x.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_target_x'>target_x</span>
  <span class='ivar'>@target_x</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="target_y=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="target_y-instance_method">
  
    #<strong>target_y</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute target_y.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_target_y'>target_y</span>
  <span class='ivar'>@target_y</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="velocity_x=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="velocity_x-instance_method">
  
    #<strong>velocity_x</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute velocity_x.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_velocity_x'>velocity_x</span>
  <span class='ivar'>@velocity_x</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="velocity_y=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="velocity_y-instance_method">
  
    #<strong>velocity_y</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute velocity_y.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_velocity_y'>velocity_y</span>
  <span class='ivar'>@velocity_y</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="zoom_step=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="zoom_step-instance_method">
  
    #<strong>zoom_step</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute zoom_step.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zoom_step'>zoom_step</span>
  <span class='ivar'>@zoom_step</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="zoom_steps=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="zoom_steps-instance_method">
  
    #<strong>zoom_steps</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute zoom_steps.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zoom_steps'>zoom_steps</span>
  <span class='ivar'>@zoom_steps</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="center-instance_method">
  
    #<strong>center</strong>(from = pos)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


214
215
216
217
218
219
220
221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 214</span>

<span class='kw'>def</span> <span class='id identifier rubyid_center'>center</span><span class='lparen'>(</span><span class='id identifier rubyid_from'>from</span><span class='op'>=</span><span class='id identifier rubyid_pos'>pos</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_add_positions'><span class='object_link'><a href="../Zif.html#add_positions-class_method" title="Zif.add_positions (method)">add_positions</a></span></span><span class='lparen'>(</span>
    <span class='id identifier rubyid_from'>from</span><span class='comma'>,</span>
    <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_position_math'><span class='object_link'><a href="../Zif.html#position_math-class_method" title="Zif.position_math (method)">position_math</a></span></span><span class='lparen'>(</span>
      <span class='symbol'>:idiv</span><span class='comma'>,</span>
      <span class='lbracket'>[</span><span class='ivar'>@cur_w</span><span class='comma'>,</span> <span class='ivar'>@cur_h</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="center_screen-instance_method">
  
    #<strong>center_screen</strong>(around = center)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_center_screen'>center_screen</span><span class='lparen'>(</span><span class='id identifier rubyid_around'>around</span><span class='op'>=</span><span class='id identifier rubyid_center'>center</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_center_to'>center_to</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sub_positions'><span class='object_link'><a href="../Zif.html#sub_positions-class_method" title="Zif.sub_positions (method)">sub_positions</a></span></span><span class='lparen'>(</span>
    <span class='id identifier rubyid_around'>around</span><span class='comma'>,</span>
    <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_position_math'><span class='object_link'><a href="../Zif.html#position_math-class_method" title="Zif.position_math (method)">position_math</a></span></span><span class='lparen'>(</span>
      <span class='symbol'>:idiv</span><span class='comma'>,</span>
      <span class='lbracket'>[</span><span class='ivar'>@cur_w</span><span class='comma'>,</span> <span class='ivar'>@cur_h</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_move'>move</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_center_to'>center_to</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_layer-instance_method">
  
    #<strong>each_layer</strong>(&amp;_block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 96</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_layer'>each_layer</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid__block'>_block</span><span class='rparen'>)</span>
  <span class='ivar'>@layers</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_layer'>layer</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_layer'>layer</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="follow_x-instance_method">
  
    #<strong>follow_x</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>To support moving the default zoom point while following something</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_follow_x'>follow_x</span>
  <span class='ivar'>@last_follow</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="follow_x=-instance_method">
  
    #<strong>follow_x=</strong>(x)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_follow_x='>follow_x=</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='ivar'>@last_follow</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="follow_y-instance_method">
  
    #<strong>follow_y</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_follow_y'>follow_y</span>
  <span class='ivar'>@last_follow</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="follow_y=-instance_method">
  
    #<strong>follow_y=</strong>(y)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 131</span>

<span class='kw'>def</span> <span class='id identifier rubyid_follow_y='>follow_y=</span><span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span>
  <span class='ivar'>@last_follow</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="full_view_rect-instance_method">
  
    #<strong>full_view_rect</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 92</span>

<span class='kw'>def</span> <span class='id identifier rubyid_full_view_rect'>full_view_rect</span>
  <span class='lbracket'>[</span><span class='ivar'>@cur_w</span><span class='comma'>,</span> <span class='ivar'>@cur_h</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="max_view_rect-instance_method">
  
    #<strong>max_view_rect</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_view_rect'>max_view_rect</span>
  <span class='lbracket'>[</span><span class='lparen'>(</span><span class='ivar'>@native_screen_width</span> <span class='op'>*</span> <span class='ivar'>@max_zoom_out</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='ivar'>@native_screen_height</span> <span class='op'>*</span> <span class='ivar'>@max_zoom_out</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="min_view_rect-instance_method">
  
    #<strong>min_view_rect</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 84</span>

<span class='kw'>def</span> <span class='id identifier rubyid_min_view_rect'>min_view_rect</span>
  <span class='lbracket'>[</span><span class='lparen'>(</span><span class='ivar'>@native_screen_width</span> <span class='op'>*</span> <span class='ivar'>@max_zoom_in</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='ivar'>@native_screen_height</span> <span class='op'>*</span> <span class='ivar'>@max_zoom_in</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="move-instance_method">
  
    #<strong>move</strong>(x, y)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adjust pos_x and pos_y together, return difference</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_move'>move</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_orig_pos_x'>orig_pos_x</span> <span class='op'>=</span> <span class='ivar'>@pos_x</span>
  <span class='id identifier rubyid_orig_pos_y'>orig_pos_y</span> <span class='op'>=</span> <span class='ivar'>@pos_y</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pos_x'>pos_x</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pos_y'>pos_y</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>

  <span class='lbracket'>[</span><span class='ivar'>@pos_x</span> <span class='op'>-</span> <span class='id identifier rubyid_orig_pos_x'>orig_pos_x</span><span class='comma'>,</span> <span class='ivar'>@pos_y</span> <span class='op'>-</span> <span class='id identifier rubyid_orig_pos_y'>orig_pos_y</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="move_rel-instance_method">
  
    #<strong>move_rel</strong>(x = nil, y = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Relative positional change where [1, 1] means add 1 to x/y instead of (1,1) Accepts nil to support behavior of directional_vector</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150
151
152
153</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_move_rel'>move_rel</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_y'>y</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pos_x'>pos_x</span> <span class='op'>=</span> <span class='ivar'>@pos_x</span> <span class='op'>+</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pos_y'>pos_y</span> <span class='op'>=</span> <span class='ivar'>@pos_y</span> <span class='op'>+</span> <span class='id identifier rubyid_y'>y</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pos-instance_method">
  
    #<strong>pos</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 210</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pos'>pos</span>
  <span class='lbracket'>[</span><span class='ivar'>@pos_x</span><span class='comma'>,</span> <span class='ivar'>@pos_y</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scrolled?-instance_method">
  
    #<strong>scrolled?</strong>(_point, direction)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method is used as a hook for the InputService, when given this obj with #register_scrollable. This could be used to zoom in and out based on where the mouse is pointed - currently ignored Feel free to override if you need this behavior, or submit a PR to split the Camera for this feature. By default, it will attempt to zoom to either the last followed object, or center of the screen</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


252
253
254
255
256
257
258
259
260</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 252</span>

<span class='kw'>def</span> <span class='id identifier rubyid_scrolled?'>scrolled?</span><span class='lparen'>(</span><span class='id identifier rubyid__point'>_point</span><span class='comma'>,</span> <span class='id identifier rubyid_direction'>direction</span><span class='rparen'>)</span>
  <span class='comment'># translated_point = translate_pos(point)
</span>  <span class='comment'># puts &quot;Camera scrolled: #{point}-&gt;#{translated_point} #{direction}&quot;
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_direction'>direction</span> <span class='op'>==</span> <span class='symbol'>:down</span>
    <span class='id identifier rubyid_zoom_out'>zoom_out</span> <span class='comment'># (translated_point)
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_zoom_in'>zoom_in</span> <span class='comment'># (translated_point)
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_following-instance_method">
  
    #<strong>start_following</strong>(sprite)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_following'>start_following</span><span class='lparen'>(</span><span class='id identifier rubyid_sprite'>sprite</span><span class='rparen'>)</span>
  <span class='comment'># We want to start following the leading sprite if it reaches the margins:
</span>  <span class='id identifier rubyid_top_margin'>top_margin</span><span class='comma'>,</span> <span class='id identifier rubyid_right_margin'>right_margin</span><span class='comma'>,</span> <span class='id identifier rubyid_down_margin'>down_margin</span><span class='comma'>,</span> <span class='id identifier rubyid_left_margin'>left_margin</span> <span class='op'>=</span> <span class='ivar'>@follow_margins</span>

  <span class='id identifier rubyid_top_margin'>top_margin</span><span class='comma'>,</span> <span class='id identifier rubyid_right_margin'>right_margin</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_position_math'><span class='object_link'><a href="../Zif.html#position_math-class_method" title="Zif.position_math (method)">position_math</a></span></span><span class='lparen'>(</span><span class='symbol'>:mult</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_top_margin'>top_margin</span><span class='comma'>,</span> <span class='id identifier rubyid_right_margin'>right_margin</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_zoom_factor'>zoom_factor</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_down_margin'>down_margin</span><span class='comma'>,</span> <span class='id identifier rubyid_left_margin'>left_margin</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_position_math'><span class='object_link'><a href="../Zif.html#position_math-class_method" title="Zif.position_math (method)">position_math</a></span></span><span class='lparen'>(</span><span class='symbol'>:mult</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_down_margin'>down_margin</span><span class='comma'>,</span> <span class='id identifier rubyid_left_margin'>left_margin</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_zoom_factor'>zoom_factor</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_relative_x'>relative_x</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>-</span> <span class='ivar'>@pos_x</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_relative_y'>relative_y</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>-</span> <span class='ivar'>@pos_y</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>

  <span class='ivar'>@target_x</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_relative_x'>relative_x</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_left_margin'>left_margin</span>
                <span class='op'>-</span><span class='lparen'>(</span><span class='id identifier rubyid_left_margin'>left_margin</span> <span class='op'>-</span> <span class='id identifier rubyid_relative_x'>relative_x</span><span class='rparen'>)</span>
              <span class='kw'>elsif</span> <span class='id identifier rubyid_relative_x'>relative_x</span> <span class='op'>&gt;</span> <span class='lparen'>(</span><span class='ivar'>@cur_w</span> <span class='op'>-</span> <span class='id identifier rubyid_right_margin'>right_margin</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_relative_x'>relative_x</span> <span class='op'>-</span> <span class='lparen'>(</span><span class='ivar'>@cur_w</span> <span class='op'>-</span> <span class='id identifier rubyid_right_margin'>right_margin</span><span class='rparen'>)</span>
              <span class='kw'>else</span>
                <span class='int'>0</span>
              <span class='kw'>end</span>

  <span class='ivar'>@target_y</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_relative_y'>relative_y</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_down_margin'>down_margin</span>
                <span class='op'>-</span><span class='lparen'>(</span><span class='id identifier rubyid_down_margin'>down_margin</span> <span class='op'>-</span> <span class='id identifier rubyid_relative_y'>relative_y</span><span class='rparen'>)</span>
              <span class='kw'>elsif</span> <span class='id identifier rubyid_relative_y'>relative_y</span> <span class='op'>&gt;</span> <span class='lparen'>(</span><span class='ivar'>@cur_h</span> <span class='op'>-</span> <span class='id identifier rubyid_top_margin'>top_margin</span><span class='rparen'>)</span>
                <span class='id identifier rubyid_relative_y'>relative_y</span> <span class='op'>-</span> <span class='lparen'>(</span><span class='ivar'>@cur_h</span> <span class='op'>-</span> <span class='id identifier rubyid_top_margin'>top_margin</span><span class='rparen'>)</span>
              <span class='kw'>else</span>
                <span class='int'>0</span>
              <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@target_x</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@target_y</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>

  <span class='ivar'>@actions</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='ivar'>@last_camera_movement</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@last_camera_movement</span>

  <span class='comment'># puts &quot;Camera#start_following: Running action #{{pos_x: @pos_x + @target_x, pos_y: @pos_y + @target_y}}&quot;
</span>  <span class='ivar'>@last_camera_movement</span> <span class='op'>=</span> <span class='id identifier rubyid_new_action'>new_action</span><span class='lparen'>(</span>
    <span class='lbrace'>{</span>
      <span class='label'>pos_x:</span> <span class='ivar'>@pos_x</span> <span class='op'>+</span> <span class='ivar'>@target_x</span><span class='comma'>,</span>
      <span class='label'>pos_y:</span> <span class='ivar'>@pos_y</span> <span class='op'>+</span> <span class='ivar'>@target_y</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>duration:</span> <span class='ivar'>@follow_duration</span><span class='comma'>,</span>
    <span class='label'>easing:</span>   <span class='ivar'>@follow_easing</span>
  <span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@last_follow</span> <span class='op'>=</span> <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_center'>center</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='ivar'>@last_camera_movement</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="translate_pos-instance_method">
  
    #<strong>translate_pos</strong>(given)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>From window x/y to map x/y</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 289</span>

<span class='kw'>def</span> <span class='id identifier rubyid_translate_pos'>translate_pos</span><span class='lparen'>(</span><span class='id identifier rubyid_given'>given</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_add_positions'><span class='object_link'><a href="../Zif.html#add_positions-class_method" title="Zif.add_positions (method)">add_positions</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_position_math'><span class='object_link'><a href="../Zif.html#position_math-class_method" title="Zif.position_math (method)">position_math</a></span></span><span class='lparen'>(</span><span class='symbol'>:mult</span><span class='comma'>,</span> <span class='id identifier rubyid_given'>given</span><span class='comma'>,</span> <span class='id identifier rubyid_zoom_factor'>zoom_factor</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_pos'>pos</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zoom_factor-instance_method">
  
    #<strong>zoom_factor</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a float, where 1.0 means we are zoomed to the native screen resolution This value is compared against @max_zoom_out and @max_zoom_in when zooming.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


284
285
286</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 284</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zoom_factor'>zoom_factor</span>
  <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_position_math'><span class='object_link'><a href="../Zif.html#position_math-class_method" title="Zif.position_math (method)">position_math</a></span></span><span class='lparen'>(</span><span class='symbol'>:fdiv</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='ivar'>@cur_w</span><span class='comma'>,</span> <span class='ivar'>@cur_h</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_zoom_unit'>zoom_unit</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zoom_in-instance_method">
  
    #<strong>zoom_in</strong>(point = (@last_follow || center))  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 267</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zoom_in'>zoom_in</span><span class='lparen'>(</span><span class='id identifier rubyid_point'>point</span><span class='op'>=</span><span class='lparen'>(</span><span class='ivar'>@last_follow</span> <span class='op'>||</span> <span class='id identifier rubyid_center'>center</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='ivar'>@zoom_step</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='ivar'>@zoom_step</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='id identifier rubyid_zoom_to'>zoom_to</span><span class='lparen'>(</span><span class='ivar'>@zoom_steps</span><span class='lbracket'>[</span><span class='ivar'>@zoom_step</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_point'>point</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zoom_out-instance_method">
  
    #<strong>zoom_out</strong>(point = (@last_follow || center))  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


262
263
264
265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 262</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zoom_out'>zoom_out</span><span class='lparen'>(</span><span class='id identifier rubyid_point'>point</span><span class='op'>=</span><span class='lparen'>(</span><span class='ivar'>@last_follow</span> <span class='op'>||</span> <span class='id identifier rubyid_center'>center</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='ivar'>@zoom_step</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='ivar'>@zoom_step</span> <span class='op'>+</span> <span class='int'>1</span><span class='comma'>,</span> <span class='ivar'>@zoom_steps</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
  <span class='id identifier rubyid_zoom_to'>zoom_to</span><span class='lparen'>(</span><span class='ivar'>@zoom_steps</span><span class='lbracket'>[</span><span class='ivar'>@zoom_step</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_point'>point</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zoom_to-instance_method">
  
    #<strong>zoom_to</strong>(factor = 1.0, point = (@last_follow || center))  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


272
273
274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 272</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zoom_to'>zoom_to</span><span class='lparen'>(</span><span class='id identifier rubyid_factor'>factor</span><span class='op'>=</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='id identifier rubyid_point'>point</span><span class='op'>=</span><span class='lparen'>(</span><span class='ivar'>@last_follow</span> <span class='op'>||</span> <span class='id identifier rubyid_center'>center</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base_mult'>base_mult</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_factor'>factor</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>80</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_cur_w'>cur_w</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_base_mult'>base_mult</span> <span class='op'>*</span> <span class='int'>16</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_cur_h'>cur_h</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_base_mult'>base_mult</span> <span class='op'>*</span> <span class='int'>9</span><span class='rparen'>)</span>

  <span class='comment'># puts &quot;#zoom_to: Zoomed to #{zoom_factor}&quot;
</span>
  <span class='id identifier rubyid_center_screen'>center_screen</span><span class='lparen'>(</span><span class='id identifier rubyid_point'>point</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zoom_unit-instance_method">
  
    #<strong>zoom_unit</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A zoom factor of 1.0 corresponds to this resolution</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


244
245
246</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/camera.rb', line 244</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zoom_unit'>zoom_unit</span>
  <span class='lbracket'>[</span><span class='ivar'>@native_screen_width</span><span class='comma'>,</span> <span class='ivar'>@native_screen_height</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun Jan  3 16:59:26 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.6.3).
</div>

    </div>
  </body>
</html>